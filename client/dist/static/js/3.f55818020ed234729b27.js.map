{"version":3,"sources":["webpack:///static/js/3.f55818020ed234729b27.js","webpack:///UserList.vue","webpack:///./client/src/view/UserList.vue","webpack:///./client/src/view/UserList.vue?1f40"],"names":["webpackJsonp","64","module","exports","Object","defineProperty","value","data","form","username","password","formVisible","users","methods","fetch","_this","this","$http","get","then","json","err","console","error","createUser","cancelForm","saveForm","_this2","post","$message","type","message","status","deleteUser","_id","_this3","$confirm","created","126","__webpack_require__","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","137","_h","attrs","style","separator","icon","nativeOn","click","$event","border","property","label","sortable","width","min-width","align","inlineTemplate","row","directives","name","rawName","expression","title","domProps","on","input","model","slot","staticClass"],"mappings":"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","file":"static/js/3.f55818020ed234729b27.js","sourcesContent":["webpackJsonp([3,7,9],{\n\n/***/ 64:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      form: {\n\t        username: '',\n\t        password: ''\n\t      },\n\t      formVisible: false,\n\t      users: []\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    fetch: function fetch() {\n\t      var _this = this;\n\t\n\t      this.$http.get('users').then(function (data) {\n\t        return data.json();\n\t      }).then(function (data) {\n\t        _this.users = data.data;\n\t      }).catch(function (err) {\n\t        console.error(err);\n\t      });\n\t    },\n\t    createUser: function createUser() {\n\t      this.formVisible = true;\n\t    },\n\t    cancelForm: function cancelForm() {\n\t      this.form.username = '';\n\t      this.form.password = '';\n\t      this.formVisible = false;\n\t    },\n\t    saveForm: function saveForm() {\n\t      var _this2 = this;\n\t\n\t      this.$http.post('users', this.form).then(function () {\n\t        _this2.cancelForm();\n\t        _this2.$message({\n\t          type: 'success',\n\t          message: '新增成功'\n\t        });\n\t        _this2.fetch();\n\t      }).catch(function (err) {\n\t        _this2.$message({\n\t          type: 'error',\n\t          message: err.status === 422 ? '用户名已存在' : '新增失败'\n\t        });\n\t      });\n\t    },\n\t    deleteUser: function deleteUser(_id) {\n\t      var _this3 = this;\n\t\n\t      this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n\t        type: 'warning'\n\t      }).then(function () {\n\t        _this3.$http.delete('users/' + _id).then(function () {\n\t          _this3.$message({\n\t            type: 'success',\n\t            message: '删除成功!'\n\t          });\n\t          _this3.fetch();\n\t        });\n\t      }).catch(function () {});\n\t    }\n\t  },\n\t  created: function created() {\n\t    this.fetch();\n\t  }\n\t};\n\n/***/ },\n\n/***/ 126:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(64)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(137)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 137:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    attrs: {\n\t      \"style\": \"width:100%\"\n\t    }\n\t  }, [_h('el-breadcrumb', {\n\t    attrs: {\n\t      \"separator\": \"/\",\n\t      \"style\": \"margin-bottom:.5rem\"\n\t    }\n\t  }, [_h('el-breadcrumb-item', [\"首页\"]), \" \", _h('el-breadcrumb-item', [\"用户管理\"])]), \" \", _h('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary\",\n\t      \"icon\": \"plus\",\n\t      \"style\": \"margin-bottom:.5rem\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        createUser($event)\n\t      }\n\t    }\n\t  }, [\"新增\"]), \" \", _h('el-table', {\n\t    attrs: {\n\t      \"data\": users,\n\t      \"border\": \"\",\n\t      \"style\": \"width: 100%\"\n\t    }\n\t  }, [_h('el-table-column', {\n\t    attrs: {\n\t      \"property\": \"_id\",\n\t      \"label\": \"ID\",\n\t      \"sortable\": \"\",\n\t      \"width\": \"220\"\n\t    }\n\t  }), \" \", _h('el-table-column', {\n\t    attrs: {\n\t      \"property\": \"username\",\n\t      \"label\": \"用户名\",\n\t      \"sortable\": \"\",\n\t      \"min-width\": \"240\"\n\t    }\n\t  }), \" \", _h('el-table-column', {\n\t    attrs: {\n\t      \"property\": \"role\",\n\t      \"label\": \"角色\",\n\t      \"min-width\": \"100\"\n\t    }\n\t  }), \" \", _h('el-table-column', {\n\t    attrs: {\n\t      \"label\": \"操作\",\n\t      \"align\": \"center\",\n\t      \"width\": \"100\"\n\t    },\n\t    inlineTemplate: {\n\t      render: function() {\n\t        with(this) {\n\t          return [_h('el-button', {\n\t            attrs: {\n\t              \"type\": \"text\"\n\t            },\n\t            nativeOn: {\n\t              \"click\": function($event) {\n\t                deleteUser(row._id)\n\t              }\n\t            }\n\t          }, [\"删除\"])]\n\t        }\n\t      },\n\t      staticRenderFns: []\n\t    }\n\t  })]), \" \", _h('el-dialog', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (formVisible),\n\t      expression: \"formVisible\"\n\t    }],\n\t    attrs: {\n\t      \"title\": \"新增用户\"\n\t    },\n\t    domProps: {\n\t      \"value\": (formVisible)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        formVisible = $event\n\t      }\n\t    }\n\t  }, [_h('el-form', {\n\t    attrs: {\n\t      \"model\": form\n\t    }\n\t  }, [_h('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"用户名\"\n\t    }\n\t  }, [_h('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (form.username),\n\t      expression: \"form.username\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (form.username)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        form.username = $event\n\t      }\n\t    }\n\t  })]), \" \", _h('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"密码\"\n\t    }\n\t  }, [_h('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (form.password),\n\t      expression: \"form.password\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"password\"\n\t    },\n\t    domProps: {\n\t      \"value\": (form.password)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        form.password = $event\n\t      }\n\t    }\n\t  })])]), \" \", _h('span', {\n\t    slot: \"footer\",\n\t    staticClass: \"dialog-footer\"\n\t  }, [_h('el-button', {\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        cancelForm($event)\n\t      }\n\t    }\n\t  }, [\"取 消\"]), \" \", _h('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary\"\n\t    },\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        saveForm($event)\n\t      }\n\t    }\n\t  }, [\"确 定\"])])])])\n\t}},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/3.f55818020ed234729b27.js\n **/","<template>\n  <div style=\"width:100%\">\n    <el-breadcrumb separator=\"/\" style=\"margin-bottom:.5rem\">\n      <el-breadcrumb-item>首页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-button type=\"primary\" icon=\"plus\" @click.native=\"createUser\" style=\"margin-bottom:.5rem\">新增</el-button>\n    <el-table\n      :data=\"users\"\n      border\n      style=\"width: 100%\">\n      <el-table-column\n        property=\"_id\"\n        label=\"ID\"\n        sortable\n        width=\"220\">\n      </el-table-column>\n      <el-table-column\n        property=\"username\"\n        label=\"用户名\"\n        sortable\n        min-width=\"240\">\n      </el-table-column>\n      <el-table-column\n        property=\"role\"\n        label=\"角色\"\n        min-width=\"100\">\n      </el-table-column>\n      <el-table-column\n        inline-template\n        label=\"操作\"\n        align=\"center\"\n        width=\"100\">\n        <template>\n          <!-- <el-button type=\"warning\" @click.native=\"updatePassword(row._id)\">修改密码</el-button> -->\n          <el-button type=\"text\" @click.native=\"deleteUser(row._id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog title=\"新增用户\" v-model=\"formVisible\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\">\n          <el-input type=\"password\" v-model=\"form.password\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"cancelForm\">取 消</el-button>\n        <el-button type=\"primary\" @click.native=\"saveForm\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      form: {\n        username: '',\n        password: ''\n      },\n      formVisible: false,\n      users: []\n    }\n  },\n  methods: {\n    fetch () {\n      this.$http.get('users').then(data => data.json()).then(data => {\n        this.users = data.data\n      }).catch(err => {\n        console.error(err)\n      })\n    },\n    createUser () {\n      this.formVisible = true\n    },\n    cancelForm () {\n      this.form.username = ''\n      this.form.password = ''\n      this.formVisible = false\n    },\n    saveForm () {\n      this.$http.post('users', this.form).then(() => {\n        this.cancelForm()\n        this.$message({\n          type: 'success',\n          message: '新增成功'\n        })\n        this.fetch()\n      }).catch((err) => {\n        this.$message({\n          type: 'error',\n          message: err.status === 422 ? '用户名已存在' : '新增失败'\n        })\n      })\n    },\n    // updatePassword (_id) {\n    //   this.$prompt('请输入新密码', '提示', {\n    //     inputPattern: /^[\\da-zA-Z_]{6,12}$/,\n    //     inputErrorMessage: '密码至少6到12位，且只能是数字字母和下划线'\n    //   }).then(value => {\n    //     this.$http.put('users/' + _id + '/password').then(() => {\n    //       this.$message({\n    //         type: 'success',\n    //         message: '密码已修改'\n    //       })\n    //     }).catch((error) => {\n    //       console.error(error)\n    //       this.$message({\n    //         type: 'error',\n    //         message: '密码修改未完成。'\n    //       })\n    //     })\n    //   }).catch(() => {\n    //     // do nothing\n    //   })\n    // },\n    deleteUser (_id) {\n      this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n        type: 'warning'\n      }).then(() => {\n        this.$http.delete('users/' + _id).then(() => {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n          this.fetch()\n        })\n      }).catch(() => {\n        // do nothing\n      })\n    }\n  },\n  created () {\n    this.fetch()\n  }\n}\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** UserList.vue?037d653c\n **/","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./UserList.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-e0b0e654!vue-loader/lib/selector?type=template&index=0!./UserList.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/view/UserList.vue\n ** module id = 126\n ** module chunks = 3\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    attrs: {\n      \"style\": \"width:100%\"\n    }\n  }, [_h('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\",\n      \"style\": \"margin-bottom:.5rem\"\n    }\n  }, [_h('el-breadcrumb-item', [\"首页\"]), \" \", _h('el-breadcrumb-item', [\"用户管理\"])]), \" \", _h('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus\",\n      \"style\": \"margin-bottom:.5rem\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        createUser($event)\n      }\n    }\n  }, [\"新增\"]), \" \", _h('el-table', {\n    attrs: {\n      \"data\": users,\n      \"border\": \"\",\n      \"style\": \"width: 100%\"\n    }\n  }, [_h('el-table-column', {\n    attrs: {\n      \"property\": \"_id\",\n      \"label\": \"ID\",\n      \"sortable\": \"\",\n      \"width\": \"220\"\n    }\n  }), \" \", _h('el-table-column', {\n    attrs: {\n      \"property\": \"username\",\n      \"label\": \"用户名\",\n      \"sortable\": \"\",\n      \"min-width\": \"240\"\n    }\n  }), \" \", _h('el-table-column', {\n    attrs: {\n      \"property\": \"role\",\n      \"label\": \"角色\",\n      \"min-width\": \"100\"\n    }\n  }), \" \", _h('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\",\n      \"width\": \"100\"\n    },\n    inlineTemplate: {\n      render: function() {\n        with(this) {\n          return [_h('el-button', {\n            attrs: {\n              \"type\": \"text\"\n            },\n            nativeOn: {\n              \"click\": function($event) {\n                deleteUser(row._id)\n              }\n            }\n          }, [\"删除\"])]\n        }\n      },\n      staticRenderFns: []\n    }\n  })]), \" \", _h('el-dialog', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (formVisible),\n      expression: \"formVisible\"\n    }],\n    attrs: {\n      \"title\": \"新增用户\"\n    },\n    domProps: {\n      \"value\": (formVisible)\n    },\n    on: {\n      \"input\": function($event) {\n        formVisible = $event\n      }\n    }\n  }, [_h('el-form', {\n    attrs: {\n      \"model\": form\n    }\n  }, [_h('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_h('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (form.username),\n      expression: \"form.username\"\n    }],\n    domProps: {\n      \"value\": (form.username)\n    },\n    on: {\n      \"input\": function($event) {\n        form.username = $event\n      }\n    }\n  })]), \" \", _h('el-form-item', {\n    attrs: {\n      \"label\": \"密码\"\n    }\n  }, [_h('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (form.password),\n      expression: \"form.password\"\n    }],\n    attrs: {\n      \"type\": \"password\"\n    },\n    domProps: {\n      \"value\": (form.password)\n    },\n    on: {\n      \"input\": function($event) {\n        form.password = $event\n      }\n    }\n  })])]), \" \", _h('span', {\n    slot: \"footer\",\n    staticClass: \"dialog-footer\"\n  }, [_h('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        cancelForm($event)\n      }\n    }\n  }, [\"取 消\"]), \" \", _h('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        saveForm($event)\n      }\n    }\n  }, [\"确 定\"])])])])\n}},staticRenderFns: []}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-e0b0e654!./~/vue-loader/lib/selector.js?type=template&index=0!./client/src/view/UserList.vue\n ** module id = 137\n ** module chunks = 3\n **/"],"sourceRoot":""}